{% extends "auth.html" %}

{% block regular_content %}
<script>
$(document).ready(function() {
    hedyApp.loadQuizChartClicked();
});
</script>
<div>
    <div class="flex relative">
        <div class="mx-auto "><h1>Class: {{ class_info.name }}</h1></div>
        <button class="green-btn ml-auto" id="to_class_button"
                onclick="window.location.href='/for-teachers/class/{{class_info.id}}'">
          {{_('back_to_class')}}
        </button>
    </div>

    <div class="shadow-md stats mt-4 p-2">
        <div class="flex flex-wrap justify-center">
            {% for student in class_info.students %}
                <div class=" group student-tile shadow cursor-pointer inline-block border px-6 py-2 m-4 rounded-lg
                transition-all duration-500 ease-in-out hover:bg-green-400 hover:text-white"
                     onclick="hedyApp.studentTileChartClicked(event, {{ student|tojson }},{{ class_info.levels }}, {{ student.programs_ran_per_level }} )">
                    <p class="select-none font-bold text-lg">{{ student.username }}</p>
                    <canvas id="studentQuizChart"></canvas>
                </div>
            {% endfor %}
        </div>
        <div id="expanded-student-tile" class="hidden w-3/4 shadow-2xl border p-2 mx-auto rounded-lg">
            <p id="studentName" class="font-bold text-lg"></p>
            <canvas id="studentProgressionChart"></canvas>
        </div>

    </div>

</div>
<script>
$(function() {
    hedyApp.stats.initializeClassStats();
});
</script>
{% endblock %}
