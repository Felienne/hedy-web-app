{% extends "layout.html" %}

{% block body %}
<div class="px-8">
  <h2>{{texts.recent}}</h2>
  <ul class="programs">
  {% for program in programs %}
    <li>
      <strong>{{program.name}} </strong>
      -&nbsp
      {{ texts.level }} {{ program.level }} - {{ program.date }}
      <a href="/hedy/{{ program.level }}/{{ program.id }}{{ query_lang }}">{{ texts.open }}</a>

      <a href="#" onclick="if (confirm ('{{ texts.delete_confirm }}')) window.open ('/programs/delete/{{program.id}}', '_self')">{{ texts.delete }}</a>
      <pre>{{program.code | truncate (50) }}</pre>
    </li>
    <br>
  {% endfor %}
  {% if programs|length == 0 %}
  <p>{{texts.no_programs}}
    <br><br>
    <button class="btn block flex-none self-end" onclick="window.open ('/hedy', '_self')">{{texts.write_first}}</button>
  </p>
  {% endif %}
  </ul>
</div>
{% endblock %}
{% block scripts %}
  <script src="//ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js" type="text/javascript"></script>
  <script>window.State = {lang: "{{ lang }}", level: "{{ level }}"}</script>
{% endblock %}
