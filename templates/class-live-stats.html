{% extends "auth.html" %}

{% from "macros/stats-shared.html" import insert_struggle_list_item, insert_student_list_item %}

{% block regular_content %}

<div>
    <!--  Back to class button  -->
    <button class="green-btn float-right" id="to_class_button" onclick="window.location.href='/for-teachers/class/{{class_info.id}}'">
      {{_('back_to_class')}}
    </button>

    <!-- Title  -->
    <div class="flex flex-col gap-4">
        <div class="font-bold font-slab text-sky-600 text-2xl">
            <h1>RADboard</h1>
        </div>
    </div>

    <!-- Card 1 Progress indicator  -->
    <div class="justify-center">
        <h2 class="text-center">Progress Indicator</h2>
        <div class="w-full max-w-8xl rounded-lg bg-blue-200 p-6 shadow-lg" id="card1_progress">
            <img class="w-full" src="/images/progress.png">
        </div>
    </div>
    <div class="relative">
        <button class="green-btn absolute top-0 right-0" id="expand" onclick="">
            Expand
        </button>
    </div>


    <div class="justify-center w-full max-w-8xl">
        <div class="grid grid-cols-2 gap-4 my-8" id="columns_grid">
            <div id="col1">
                <h2 class="text-center">
                  Student List
                </h2>
                <!-- Card 2 Student List    -->
                <div class="rounded-lg bg-blue-200 shadow-lg p-6 h-64 overflow-auto" id="card2_list">
                    <div class="grid grid-cols-2">
                        <div class="w-full text-left" id="name-col">
                            <h4 class="pb-4">Name</h4>
                            <ul class="max-w-md space-y-1 list-none list-inside">
                                {% for s in class_info.students %}
                                    {{ insert_student_list_item(s.username) }}
                                {% endfor %}
                            </ul>
                        </div>
                        <div class="w-full text-left" id="progress-col">
                            <h4 class="pb-4">Current Level</h4>
                            <ul class="max-w-md space-y-1 list-none list-inside">
                                {% for s in class_info.students %}
                                    {{ insert_student_list_item(s.highest_level) }}
                                {% endfor %}
                            </ul>
                        </div>
                    </div>


                </div>
            </div>

            <div id="col2">
                <h2 class="text-center">
                  Students who are struggling
                </h2>
                <!-- Card 3 Misconceptions feed -->
                <div class="rounded-lg bg-blue-200 shadow-lg p-6 h-64 overflow-auto" id="card3_misconceptions">
                  <div class="w-full text-left">
                      <ul class="max-w-md space-y-1 list-none list-inside">
                          {{ insert_struggle_list_item('Student 1 needs help at Lv. 1') }}
                          {{ insert_struggle_list_item('Student 3 needs help at Lv. 1') }}
                          {{ insert_struggle_list_item('2 Students need help') }}
                      </ul>
                  </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
