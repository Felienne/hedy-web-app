{% extends "auth.html" %}

{% block main %}
    <h2 class="px-8 mb-4">{{achievements.title}}</h2>
    {% for category in achievements.categories %}
        <h1 class="bg-blue-200 pl-8 py-2 mb-4 rounded-lg text-3xl" onclick="$ ('#{{category.title}}').toggle()">{{category.title}}</h1>
        <div class="hidden pl-4 mt-4 mb-4" id="{{ category.title }}">
        {% for subcategory in category.subcategory %}
            <h3>{{ subcategory.title }}</h3>
            <div class="flex flex-row w-full">
            {% for achievement in subcategory.achievements %}
                {% if achievement.title in achievements_reached %}
                    <div class="w-40 rounded-lg mr-4 relative bg-blue-200">
                        <div class="relative h-40">
                            <img src="{{static('/images/' + achievement.image)}}" class="absolute">
                            <img src="{{static('/images/check.png')}}" class="absolute w-3/4 mt-5 block" style="left: 50%; transform: translate(-50%, 0%);">
                        </div>
                        <div class="w-40 h-full opacity-0 hover:opacity-75 bg-black rounded-lg inset-0 absolute z-10 text-center text-white px-4 pt-10">
                            <p class="font-semibold">{{ achievement.text }}</p>
                        </div>
                        <div class="text-center flex items-center justify-center h-16">
                            <p>{{ achievement.title }}</p>
                        </div>
                    </div>
                {% else %}
                    <div class="w-40 rounded-lg mr-4 relative bg-gray-500">
                        <img src="{{static('/images/' + achievement.image)}}">
                        <div class="w-40 h-full opacity-0 hover:opacity-75 bg-black rounded-lg inset-0 absolute z-10 text-center text-white px-4 pt-10">
                            <p class="font-semibold">{% if category.title != "Hidden" %}{{ achievement.text }}{% else %}???{% endif %}</p>
                        </div>
                        <div class="text-center flex items-center justify-center h-16">
                            <p>{{ achievement.title }}</p>
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
            </div>
        {% endfor %}
        </div>
    {% endfor %}
{% endblock %}
