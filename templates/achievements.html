{% extends "auth.html" %}

{% block main %}
    <h2 class="px-8 mb-4">{{template_achievements.title}}</h2>
    {% for category in template_achievements.categories %}
        <h1 class="bg-blue-200 pl-8 py-2 mb-4 rounded-lg text-3xl" onclick="$ ('#{{category.key}}').toggle()">{{category.title}}</h1>
        <div class="hidden pl-4 mt-4 mb-4" id="{{ category.key }}">
        {% for subcategory in category['subcategory'] %}
            <h3 class="px-16">{{ subcategory.title }}</h3>
            <div class="flex flex-wrap w-full px-16">
            {% for achievement in subcategory.achievements %}
                {% if achievement in user_achievements %}
                    <div class="w-40 rounded-lg mr-4 mt-4 relative bg-blue-200">
                        <div class="relative h-40">
                            <img src="{{static('/images/' + achievements[achievement].image)}}" class="absolute">
                            <img src="{{static('/images/check.png')}}" class="absolute w-3/4 mt-5 block" style="left: 50%; transform: translate(-50%, 0%);">
                        </div>
                        <div class="w-40 h-full opacity-0 hover:opacity-75 bg-black rounded-lg inset-0 absolute z-10 text-center text-white px-4 pt-10">
                            <p class="font-semibold">{{ achievements[achievement].text }}</p>
                        </div>
                        <div class="text-center flex items-center justify-center h-16">
                            <p>{{ achievements[achievement].title }}</p>
                        </div>
                    </div>
                {% else %}
                    <div class="w-40 rounded-lg mr-4 mt-4 relative bg-gray-500">
                        <img src="{{static('/images/' + achievements[achievement].image)}}">
                        <div class="w-40 h-full opacity-0 hover:opacity-75 bg-black rounded-lg inset-0 absolute z-10 text-center text-white px-4 pt-10">
                            <p class="font-semibold">{% if category.key == "hidden" %}???{% else %}{{ achievements[achievement].text }}{% endif %}</p>
                        </div>
                        <div class="text-center flex items-center justify-center h-16">
                            <p>{{ achievements[achievement].title }}</p>
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
            </div>
        {% endfor %}
        </div>
    {% endfor %}
{% endblock %}
