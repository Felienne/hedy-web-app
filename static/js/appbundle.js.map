{
  "version": 3,
  "sources": ["index.ts", "modal.ts", "syntaxModesRules.ts", "app.ts", "auth.ts", "tabs.ts", "translating.ts"],
  "sourcesContent": ["export * from './modal';\nexport * from './app';\nexport * from './auth';\nexport * from './syntaxModesRules';\nexport * from './tabs';\nexport * from './translating';", "declare interface Window {\n  modal: Modal;\n}\n\nclass Modal {\n  constructor() {\n    // Just one binding, never needs stat\n    $('#modal-confirm-button').on('click', () => this.hide());\n    $('#modal-no-button').on('click', () => this.hide());\n    $('#modal-cancel-button').on('click', () => this.hide());\n  }\n\n  public show() {\n    $('#modal-mask').show();\n    $('#modal-content').show();\n    window.scrollTo(0, 0);\n  }\n\n  public hide() {\n    $('#modal-mask').hide();\n    $('#modal-content').hide();\n    $('#modal-alert').hide();\n    $('#modal-prompt').hide();\n    $('#modal-confirm').hide();\n  }\n\n  public alert(message: string, timeoutMs?: number) {\n    $('#modal-alert-text').text(message);\n    this.show();\n    $('#modal-alert').show();\n    if (timeoutMs) setTimeout(() => this.hide(), timeoutMs);\n  }\n\n  public confirm(message: string, confirmCb: () => void) {\n    $('#modal-confirm-text').text(message);\n    this.show();\n    $('#modal-confirm').show();\n\n    // Since we need to close over the callback, replace the handler\n    $('#modal-yes-button').off('click').on('click', () => {\n      this.hide();\n      confirmCb();\n    });\n  }\n\n  public prompt(message: string, defaultValue: string, confirmCb: (x: string) => void) {\n    $('#modal-prompt-text').text(message);\n    this.show();\n    $('#modal-prompt').show();\n    if (defaultValue) $('#modal-prompt-input').val(defaultValue);\n\n    // Since we need to close over the callback, replace the handler\n    $('#modal-ok-button').off('click').on('click', () => {\n      this.hide();\n\n      const value = $('#modal-prompt-input').val();\n      if (typeof value === 'string') {\n        confirmCb(value);\n      }\n    });\n  }\n}\n\nwindow.modal = new Modal();", "interface Rule {\n  readonly regex: string;\n  readonly token: string | string[];\n  readonly next?: string;\n}\n\ntype Rules = Record<string, Rule[]>;\n\n// Basic highlighter rules we can use in most levels\n// - Highlighters always begin in the 'start' state, and see line by line (no newlines!)\n// - We try to recognize as many commands and tokens as possible in 'start', only deviating\n//   to another state to avoid highlighting something.\n// - 'expression_eol' is the state to contain arbitrary values that will always eat the rest of the line\n// - 'gobble' is the state that will eat whatever is left in the line and go back to 'start'\nfunction baseRules(): Rules {\n  return {\n    // gobble is a state in which we can read anything (.*), used after print\n    gobble: [\n      {\n        regex: '.*',\n        token: 'text',\n        next: 'start',\n      }\n    ],\n\n    // this function creates two rules, one to recognize strings and at random within a line (staying in the same state)\n    // and one where it is recognized at the end of the line (going back to start)\n    expression_eol: finishLine([\n      {\n        regex: \"'[^']*'\",\n        token: 'constant.character',\n      },\n      {\n        regex: 'at random',\n        token: 'keyword'\n      },\n      {\n        regex: '$', // $ matches with end of line\n        token: 'text',\n      },\n    ]),\n  };\n}\n\nconst LEVELS = [\n  {\n    name: 'level1',\n    rules: pipe(baseRules(),\n      rule_print('gobble'),\n      rule_turtle(),\n      recognize('start', {\n        regex: 'echo ',\n        token: 'keyword',\n        next: 'gobble',\n      }),\n      recognize('start', {\n        regex: 'ask ',\n        token: 'keyword',\n        next: 'gobble',\n      }),\n    ),\n  },\n  {\n    // Adds lists and 'at random'\n    name: 'level2',\n    rules: pipe(baseRules(),\n\n      rule_print('expression_eol'),\n      rule_isAsk('gobble'),\n      rule_is('gobble'),\n\n      rule_turtle(),\n\n    ),\n  },\n  {\n    // Adds quoted text\n    name: 'level3',\n    rules: pipe(baseRules(),\n      rule_turtle(),\n      rule_print('expression_eol'),\n      rule_isAsk(),\n      rule_is(),\n    ),\n  },\n  {\n    // Adds if/else\n    name: 'level4',\n    rules: pipe(baseRules(),\n      rule_print(),\n      rule_isAsk(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n    ),\n  },\n  {\n    // Adds repeat\n    name: 'level5',\n    rules: pipe(baseRules(),\n      rule_print(),\n      rule_isAsk(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n      rule_repeat(),\n    ),\n  },\n  {\n    // Adds arithmetic\n    name: 'level6',\n    rules: pipe(baseRules(),\n      rule_print(),\n      rule_isAsk(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n      rule_repeat(),\n      rule_arithmetic(),\n    ),\n  },\n  {\n    // Adds indented blocks -- no changes to highlighter necessary\n    name: 'level7',\n    rules: pipe(baseRules(),\n      rule_print(),\n      rule_isAsk(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n      rule_repeat(),\n      rule_arithmetic(),\n    ),\n  },\n  {\n    // Replaces 'repeat' with 'for'\n    name: 'level8and9',\n    rules: pipe(baseRules(),\n      rule_print(),\n      rule_isAsk(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n      rule_arithmetic(),\n      rule_forRange(),\n    ),\n  },\n  {\n    // Nesting of 'for' loops (no changes necessary)\n    name: 'level10',\n    rules: pipe(baseRules(),\n      rule_print(),\n      rule_isAsk(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n      rule_arithmetic(),\n      rule_forRange(),\n    ),\n  },\n  {\n    // Adding fncall parens\n    name: 'level11',\n    rules: pipe(baseRules(),\n      rule_printParen(),\n      rule_isInputParen(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n      rule_arithmetic(),\n      rule_forRangeParen(),\n    ),\n  },\n// ----------------------------------------------------------------\n//  Everything below this line hasn't been done yet\n// ----------------------------------------------------------------\n  {\n    name: 'level11',\n    rules: pipe(baseRules(),\n      rule_printParen(),\n      rule_isInputParen(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n      rule_arithmetic(),\n      rule_forRangeParen(),\n    ),\n  },\n  {\n    name: 'level12',\n    rules: pipe(baseRules(),\n      rule_printParen(),\n      rule_isInputParen(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n      rule_arithmetic(),\n      rule_forRangeParen(),\n    ),\n  },\n  {\n    name: 'level13',\n    rules: pipe(baseRules(),\n      rule_printParen(),\n      rule_isInputParen(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n      rule_arithmetic(),\n      rule_forRangeParen(),\n    ),\n  },\n  {\n    name: 'level14',\n    rules: pipe(baseRules(),\n      rule_printParen(),\n      rule_isInputParen(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n      rule_arithmetic(),\n      rule_forRangeParen(),\n    ),\n  },\n  {\n    name: 'level15',\n    rules: pipe(baseRules(),\n      rule_printParen(),\n      rule_isInputParen(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n      rule_arithmetic(),\n      rule_forRangeParen(),\n    ),\n  },\n  {\n    name: 'level16',\n    rules: pipe(baseRules(),\n      rule_printParen(),\n      rule_isInputParen(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n      rule_arithmetic(),\n      rule_forRangeParen(),\n    ),\n  },\n  {\n    name: 'level17and18',\n    rules: pipe(baseRules(),\n      rule_printParen(),\n      rule_isInputParen(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n      rule_arithmetic(),\n      rule_forRangeParen(),\n    ),\n  },\n  {\n    name: 'level19',\n    rules: pipe(baseRules(),\n      rule_printParen(),\n      rule_isInputParen(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n      rule_arithmetic(),\n      rule_forRangeParen(),\n    ),\n  },\n  {\n    name: 'level20',\n    rules: pipe(baseRules(),\n      rule_printParen(),\n      rule_isInputParen(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n      rule_arithmetic(),\n      rule_forRangeParen(),\n    ),\n  },\n  {\n    name: 'level21',\n    rules: pipe(baseRules(),\n      rule_printParen(),\n      rule_isInputParen(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n      rule_arithmetic(),\n      rule_forRangeParen(),\n    ),\n  },\n  {\n    name: 'level22',\n    rules: pipe(baseRules(),\n      rule_printParen(),\n      rule_isInputParen(),\n      rule_is(),\n      rule_ifElse(),\n      rule_expressions(),\n      rule_arithmetic(),\n      rule_forRangeParen(),\n    ),\n  },\n];\n\n\n/**\n * From a list of rules, duplicate all rules\n *\n * - 1 is the rule that's given\n * - 2 is the same rule, adding an '$' which returns to the 'start' state\n *\n * 2nd one comes first to have the right precedence.\n */\nfunction finishLine(rules: Rule[]) {\n  const ret = [];\n  for (const rule of rules) {\n    if (rule.regex) {\n      ret.push({\n        regex: rule.regex + '$',\n        token: rule.token,\n        next: 'start',\n      });\n    }\n    ret.push(rule);\n  }\n  return ret;\n}\n\n/**\n * Add a single rule, or multiple rules, to a given state, or multiple states\n *\n * Examples:\n *\n * - recognize('start', { regex, token, next })\n * - recognize(['start', 'expression'], { regex, token, next })\n * - recognize('start', [{ ... }, {...}])\n */\nfunction recognize(stateOrStates: string | string[], ruleOrRules: Rule | Rule[]) {\n  return (rules: Rules) => {\n    if (!Array.isArray(stateOrStates)) {\n      stateOrStates = [stateOrStates];\n    }\n\n    for (const state of stateOrStates) {\n      if (!rules[state]) {\n        rules[state] = [];\n      }\n      if (Array.isArray(ruleOrRules)) {\n        rules[state].push(...ruleOrRules);\n      } else {\n        rules[state].push(ruleOrRules);\n      }\n    }\n\n    return rules;\n  };\n}\n\n/**\n * comp(f1, f2, f3, ...)\n *\n * Returns f1 \u25CB f2 \u25CB f3 \u25CB ...\n */\nfunction comp(...fns: Array<(x: any) => any>) {\n  return (val: any) => {\n    for (const fn of fns) {\n      val = fn(val);\n    }\n    return val;\n  };\n}\n\n/**\n * pipe(X, f1, f2, f3, ...)\n *\n * Returns ...(f3(f2(f1(X)))\n *\n * (Same as X |> f1 |> f2 |> f3 |> ...)\n */\nfunction pipe(val: any, ...fns: Array<(x: any) => any>) {\n  return comp(...fns)(val);\n}\n\n/**\n * Add a 'print' rule, going to the indicated 'next' state (start if omitted)\n */\nfunction rule_print(next?: string) {\n  return recognize('start', {\n    regex: 'print',\n    token: 'keyword',\n    next: next ?? 'start',\n  });\n}\n\n/**\n * Add an 'is ask' rule, going to the indicated 'next' state (expression_eol if omitted)\n */\nfunction rule_isAsk(next?: string) {\n  return recognize('start', {\n    regex: '(\\\\w+)( is ask )',\n    token: ['text', 'keyword'],\n    next: next ?? 'expression_eol',\n  });\n}\n\n/**\n * Add an 'is' rule, going to the indicated 'next' state (expression_eol if omitted)\n */\nfunction rule_is(next?: string) {\n  return recognize('start', {\n    regex: '(\\\\w+)( is )',\n    token: ['text', 'keyword'],\n    next: next ?? 'expression_eol',\n  });\n}\n\n/**\n * Add a 'print' rule with brackets\n */\nfunction rule_printParen() {\n  return recognize('start', {\n    regex: '(print)(\\\\()',\n    token: ['keyword', 'paren.lparen'],\n    next: 'start'\n  });\n}\n\nfunction rule_turtle() {\n    return comp(\n      recognize('start', {\n        regex: 'turn (left|right)?',\n        token: 'keyword',\n        next: 'start',\n      }),\n      recognize('start', {\n        regex: 'forward',\n        token: 'keyword',\n        next: 'start',\n      })\n    )\n}\n\n\n\n\n\n/**\n * Add an 'is input' rule with brackets\n */\nfunction rule_isInputParen() {\n  return recognize('start', {\n    regex: '(\\\\w+)( is input)(\\\\()',\n    token: ['text', 'keyword', 'paren.lparen'],\n    next: 'start'\n  });\n}\n\n/**\n * Recognize expressions as part of the 'start' state\n */\nfunction rule_expressions() {\n  return comp(\n    recognize('start', {\n      regex: \"'[^']*'\",\n      token: 'constant.character',\n    }),\n    recognize('start', {\n      regex: 'at random',\n      token: 'keyword'\n    }),\n    recognize('start', {\n      regex: '[, ]+',\n      token: 'punctuation.operator',\n    }),\n  );\n}\n\n\n/**\n * Add highlighting for if/else, also add a condition\n */\nfunction rule_ifElse() {\n  return comp(\n    recognize('start', {\n      regex: completeKeyword('if'),\n      token: 'keyword',\n      next: 'condition',\n    }),\n    recognize('start', {\n      regex: completeKeyword('else'),\n      token: 'keyword',\n    }),\n    recognize('condition', {\n      regex: completeKeyword('is'),\n      token: 'keyword',\n      next: 'start',\n    }),\n  );\n}\n\n/**\n * Add numbers and arithmetic\n */\nfunction rule_arithmetic() {\n  return recognize(['start', 'expression_eol'], [\n    {\n      regex: ' \\\\* ',\n      token: 'keyword',\n    },\n    {\n      regex: ' \\\\+ ',\n      token: 'keyword',\n    },\n    {\n      regex: ' \\\\- ',\n      token: 'keyword',\n    },\n  ]);\n}\n\n/**\n * Add highlighting for repeat\n */\nfunction rule_repeat() {\n  return recognize('start', {\n    regex: '(repeat)( \\\\w+ )(times)',\n    token: ['keyword', 'text', 'keyword'],\n  });\n}\n\nfunction rule_forRange() {\n  return recognize('start', {\n    regex: '(for )(\\\\w+)( in range )(\\\\w+)( to )(\\\\w+)',\n    token: ['keyword', 'text', 'keyword', 'text', 'keyword', 'text'],\n  });\n}\n\nfunction rule_forRangeParen() {\n  return recognize('start', {\n    regex: '(for )(\\\\w+)( in range)(\\\\()([\\\\s\\\\w]+)(,)([\\\\s\\\\w]+)(\\\\))',\n    token: ['keyword', 'text', 'keyword', 'paren.lparen', 'text', 'punctuation.operator', 'text', 'paren.rparen'],\n  });\n}\n\n/**\n * Modify the given ruleset, replacing literal spaces with \"one or more spaces\"\n */\nfunction loosenRules(rules: Rules) {\n  for (const ruleSets of Object.values(rules)) {\n    for (const rule of ruleSets) {\n      if (rule.regex && !(rule as any)._loosened) {\n        (rule as any).regex = rule.regex.replace(/ /g, ' +');\n        (rule as any)._loosened = true;\n      }\n    }\n  }\n  return rules;\n}\n\ntype Module = any;\ntype RequireFunction = (name: string) => Module;\ndeclare function define(name: string, dependencies: string[], handler: (require: RequireFunction, exports: Module, module: Module) => void): void;\n\n// Define the modes based on the level definitions above\nfor (const level of LEVELS) {\n\n  // This is a local definition of the file 'ace/mode/level1.js', etc.\n  define('ace/mode/' + level.name, [], function(require, exports, _module) {\n    var oop = require('ace/lib/oop');\n    var TextMode = require('ace/mode/text').Mode;\n    var TextHighlightRules = require('ace/mode/text_highlight_rules').TextHighlightRules;\n\n    function ThisLevelHighlightRules(this: any) {\n      this.$rules = loosenRules(level.rules);\n      this.normalizeRules();\n    };\n    oop.inherits(ThisLevelHighlightRules, TextHighlightRules);\n\n    function Mode(this: any) {\n      this.HighlightRules = ThisLevelHighlightRules;\n    };\n    oop.inherits(Mode, TextMode);\n\n    exports.Mode = Mode;\n  });\n}\n\n/**\n * Wrap a keyword in word-boundary markers for use in the tokenizer regexes\n *\n * Use this to only recognize a word if it's a complete word by itself (and\n * not accidentally a part of a larger word).\n */\nfunction completeKeyword(keyword: string) {\n  return '\\\\b' + keyword + '\\\\b';\n}\n", "// It's important that this file gets loaded first\nimport './syntaxModesRules';\n\n(function() {\n  // A bunch of code expects a global \"State\" object. Set it here if not\n  // set yet.\n  if (!window.State) {\n    window.State = {};\n  }\n\n  // *** EDITOR SETUP ***\n  initializeMainEditor($('#editor'));\n\n  // Any code blocks we find inside 'turn-pre-into-ace' get turned into\n  // read-only editors (for syntax highlighting)\n  for (const preview of $('.turn-pre-into-ace pre').get()) {\n    $(preview).addClass('text-lg rounded');\n    const exampleEditor = turnIntoAceEditor(preview, true)\n    // Fits to content size\n    exampleEditor.setOptions({ maxLines: Infinity });\n    // Strip trailing newline, it renders better\n    exampleEditor.setValue(exampleEditor.getValue().replace(/\\n+$/, ''), -1);\n\n    // And add an overlay button to the editor\n    const buttonContainer = $('<div>').css({ position: 'absolute', top: 5, right: 5, width: 'auto' }).appendTo(preview);\n    $('<button>').attr('title', UiMessages['try_button']).css({ fontFamily: 'sans-serif' }).addClass('green-btn').text('\u21E5').appendTo(buttonContainer).click(function() {\n      window.editor?.setValue(exampleEditor.getValue() + '\\n');\n    });\n  }\n\n  /**\n   * Initialize the main editor and attach all the required event handlers\n   */\n  function initializeMainEditor($editor: JQuery) {\n    if (!$editor.length) return;\n\n    // We expose the editor globally so it's available to other functions for resizing\n    var editor = window.editor = turnIntoAceEditor($editor.get(0), $editor.data('readonly'));\n\n    // Load existing code from session, if it exists\n    const storage = window.sessionStorage;\n    if (storage) {\n      const levelKey = $editor.data('lskey');\n      const loadedProgram = $editor.data('loaded-program');\n\n      // On page load, if we have a saved program and we are not loading a program by id, we load the saved program\n      const programFromStorage = storage.getItem(levelKey);\n      if (loadedProgram !== 'True' && programFromStorage) {\n        editor.setValue(programFromStorage, 1);\n      }\n\n      // When the user exits the editor, save what we have.\n      editor.on('blur', function(_e: Event) {\n        storage.setItem(levelKey, editor.getValue());\n      });\n\n      // If prompt is shown and user enters text in the editor, hide the prompt.\n      editor.on('change', function () {\n        if ($('#inline-modal').is (':visible')) $('#inline-modal').hide();\n        window.State.disable_run = false;\n        $ ('#runit').css('background-color', '');\n        window.State.unsaved_changes = true;\n      });\n    }\n\n    // *** PROMPT TO SAVE CHANGES ***\n\n    window.onbeforeunload = function () {\n       // The browser doesn't show this message, rather it shows a default message.\n       if (window.State.unsaved_changes) {\n          // This allows us to avoid showing the programmatic modal from `prompt_unsaved` and then the native one\n          if (! window.State.no_unload_prompt) return window.auth.texts.unsaved_changes;\n       }\n    };\n\n    // *** KEYBOARD SHORTCUTS ***\n\n    let altPressed: boolean | undefined;\n\n    // alt is 18, enter is 13\n    window.addEventListener ('keydown', function (ev) {\n      const keyCode = ev.keyCode;\n      if (keyCode === 18) {\n        altPressed = true;\n        return;\n      }\n      if (keyCode === 13 && altPressed) {\n        if (!window.State.level || !window.State.lang) {\n          throw new Error('Oh no');\n        }\n        runit (window.State.level, window.State.lang, function () {\n          $ ('#output').focus ();\n        });\n      }\n      // We don't use jquery because it doesn't return true for this equality check.\n      if (keyCode === 37 && document.activeElement === document.getElementById ('output')) {\n        editor.focus ();\n        editor.navigateFileEnd ();\n      }\n    });\n    window.addEventListener ('keyup', function (ev) {\n      const keyCode = ev.keyCode;\n      if (keyCode === 18) {\n        altPressed = false;\n        return;\n      }\n    });\n  }\n\n  /**\n   * Turn an HTML element into an Ace editor\n   */\n  function turnIntoAceEditor(element: HTMLElement, isReadOnly: boolean): AceAjax.Editor {\n    const editor = ace.edit(element);\n    editor.setTheme(\"ace/theme/monokai\");\n    if (isReadOnly) {\n      editor.setOptions({\n        readOnly: true,\n        showGutter: false,\n        showPrintMargin: false,\n        highlightActiveLine: false\n      });\n    }\n\n    // a variable which turns on(1) highlighter or turns it off(0)\n    var highlighter = 1;\n\n    if (highlighter == 1) {\n      // Everything turns into 'ace/mode/levelX', except what's in\n      // this table.\n      const modeExceptions: Record<string, string> = {\n        '8': 'ace/mode/level8and9',\n        '9': 'ace/mode/level8and9',\n        '17': 'ace/mode/level17and18',\n        '18': 'ace/mode/level17and18',\n        '21': 'ace/mode/level21and22',\n        '22': 'ace/mode/level21and22',\n      };\n\n      if (window.State.level) {\n        const mode = modeExceptions[window.State.level] || `ace/mode/level${window.State.level}`;\n        editor.session.setMode(mode);\n      }\n    }\n\n    return editor;\n  }\n})();\n\nfunction reloadOnExpiredSession () {\n   // If user is not logged in or session is not expired, return false.\n   if (! window.auth.profile || window.auth.profile.session_expires_at > Date.now ()) return false;\n   // Otherwise, reload the page to update the top bar.\n   location.reload ();\n   return true;\n}\n\nfunction runit(level: string, lang: string, cb: () => void) {\n  if (window.State.disable_run) return window.modal.alert (window.auth.texts.answer_question);\n\n  if (reloadOnExpiredSession ()) return;\n\n  error.hide();\n  try {\n    level = level.toString();\n    var editor = ace.edit(\"editor\");\n    var code = editor.getValue();\n\n    console.log('Original program:\\n', code);\n    $.ajax({\n      type: 'POST',\n      url: '/parse',\n      data: JSON.stringify({\n        level: level,\n        code: code,\n        lang: lang,\n        read_aloud : !!$('#speak_dropdown').val(),\n        adventure_name: window.State.adventure_name\n      }),\n      contentType: 'application/json',\n      dataType: 'json'\n    }).done(function(response) {\n      console.log('Response', response);\n      if (response.Warning) {\n        error.showWarning(ErrorMessages['Transpile_warning'], response.Warning);\n      }\n      if (response.Error) {\n        error.show(ErrorMessages['Transpile_error'], response.Error);\n        return;\n      }\n      runPythonProgram(response.Code, response.has_turtle, cb).catch(function(err) {\n        console.log(err)\n        error.show(ErrorMessages['Execute_error'], err.message);\n        reportClientError(level, code, err.message);\n      });\n    }).fail(function(xhr) {\n      console.error(xhr);\n      // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/readyState\n      if (xhr.readyState < 4) {\n        error.show(ErrorMessages['Connection_error'], ErrorMessages['CheckInternet']);\n      } else {\n        error.show(ErrorMessages['Other_error'], ErrorMessages['ServerError']);\n      }\n    });\n\n  } catch (e: any) {\n    console.error(e);\n    error.show(ErrorMessages['Other_error'], e.message);\n  }\n}\n\n/**\n * Called when the user clicks the \"Try\" button in one of the palette buttons\n */\nexport function tryPaletteCode(exampleCode: string) {\n  var editor = ace.edit(\"editor\");\n\n  var MOVE_CURSOR_TO_END = 1;\n  editor.setValue(exampleCode + '\\n', MOVE_CURSOR_TO_END);\n  window.State.unsaved_changes = false;\n}\n\nwindow.saveit = function saveit(level, lang, name, code, cb) {\n  error.hide();\n\n  if (reloadOnExpiredSession ()) return;\n\n  try {\n    // If there's no session but we want to save the program, we store the program data in localStorage and redirect to /login.\n    if (! window.auth.profile) {\n       return window.modal.confirm (window.auth.texts.save_prompt, function () {\n         // If there's an adventure_name, we store it together with the level, because it won't be available otherwise after signup/login.\n         if (window.State && window.State.adventure_name) level = [level, window.State.adventure_name];\n         localStorage.setItem ('hedy-first-save', JSON.stringify ([level, lang, name, code]));\n         window.location.pathname = '/login';\n       });\n    }\n\n    window.State.unsaved_changes = false;\n\n    var adventure_name = window.State.adventure_name;\n    // If saving a program for an adventure after a signup/login, level is an array of the form [level, adventure_name]. In that case, we unpack it.\n    if (level instanceof Array) {\n       adventure_name = level [1];\n       level = level [0];\n    }\n\n    $.ajax({\n      type: 'POST',\n      url: '/programs',\n      data: JSON.stringify({\n        level: level,\n        lang:  lang,\n        name:  name,\n        code:  code,\n        adventure_name: adventure_name\n      }),\n      contentType: 'application/json',\n      dataType: 'json'\n    }).done(function(response) {\n      // The auth functions use this callback function.\n      if (cb) return response.Error ? cb (response) : cb (null, response);\n      if (response.Warning) {\n        error.showWarning(ErrorMessages['Transpile_warning'], response.Warning);\n      }\n      if (response.Error) {\n        error.show(ErrorMessages['Transpile_error'], response.Error);\n        return;\n      }\n      window.modal.alert (window.auth.texts.save_success_detail, 4000);\n      // If we succeed, we need to update the default program name & program for the currently selected tab.\n      // To avoid this, we'd have to perform a page refresh to retrieve the info from the server again, which would be more cumbersome.\n      // The name of the program might have been changed by the server, so we use the name stated by the server.\n      $ ('#program_name').val (response.name);\n      window.State.adventures.map (function (adventure) {\n        if (adventure.short_name === (adventure_name || 'level')) {\n          adventure.loaded_program = {name: response.name, code: code};\n        }\n      });\n    }).fail(function(err) {\n      console.error(err);\n      error.show(ErrorMessages['Connection_error'], JSON.stringify(err));\n      if (err.status === 403) {\n         localStorage.setItem ('hedy-first-save', JSON.stringify ([adventure_name ? [level, adventure_name] : level, lang, name, code]));\n         localStorage.setItem ('hedy-save-redirect', 'hedy');\n         window.location.pathname = '/login';\n      }\n    });\n  } catch (e) {\n    console.error(e);\n    error.show(ErrorMessages['Other_error'], e.message);\n  }\n}\n\nfunction viewProgramLink(programId) {\n  return window.location.origin + '/hedy/' + programId + '/view';\n}\n\nwindow.share_program = function share_program (level, lang, id, Public, reload) {\n  if (! window.auth.profile) return window.modal.alert (window.auth.texts.must_be_logged);\n\n  var share = function (id) {\n    $.ajax({\n      type: 'POST',\n      url: '/programs/share',\n      data: JSON.stringify({\n        id: id,\n        public: Public\n      }),\n      contentType: 'application/json',\n      dataType: 'json'\n    }).done(function(response) {\n      // If we're sharing the program, copy the link to the clipboard.\n      if (Public) window.copy_to_clipboard (viewProgramLink(id), true);\n      window.modal.alert (Public ? window.auth.texts.share_success_detail : window.auth.texts.unshare_success_detail, 4000);\n      if (reload) setTimeout (function () {location.reload ()}, 1000);\n    }).fail(function(err) {\n      console.error(err);\n      error.show(ErrorMessages['Connection_error'], JSON.stringify(err));\n    });\n  }\n\n  // If id is not true, the request comes from the programs page. In that case, we merely call the share function.\n  if (id !== true) return share (id);\n\n  // Otherwise, we save the program and then share it.\n  // Saving the program makes things way simpler for many reasons: it covers the cases where:\n  // 1) there's no saved program; 2) there's no saved program for that user; 3) the program has unsaved changes.\n  var name = $ ('#program_name').val ();\n  var code = ace.edit('editor').getValue();\n  return saveit(level, lang, name, code, function (err, resp) {\n    if (err && err.Warning) return error.showWarning(ErrorMessages['Transpile_warning'], err.Warning);\n    if (err && err.Error) return error.show(ErrorMessages['Transpile_error'], err.Error);\n    share (resp.id);\n  });\n\n}\n\nwindow.copy_to_clipboard = function copy_to_clipboard (string, noAlert) {\n  // https://hackernoon.com/copying-text-to-clipboard-with-javascript-df4d4988697f\n  var el = document.createElement ('textarea');\n  el.value = string;\n  el.setAttribute ('readonly', '');\n  el.style.position = 'absolute';\n  el.style.left = '-9999px';\n  document.body.appendChild (el);\n  var selected = document.getSelection ().rangeCount > 0 ? document.getSelection ().getRangeAt (0) : false;\n  el.select ();\n  document.execCommand ('copy');\n  document.body.removeChild (el);\n  if (selected) {\n     document.getSelection ().removeAllRanges ();\n     document.getSelection ().addRange (selected);\n  }\n  if (! noAlert) window.modal.alert (window.auth.texts.copy_clipboard, 4000);\n}\n\n/**\n * Do a POST with the error to the server so we can log it\n */\nfunction reportClientError(level, code, client_error) {\n  $.ajax({\n    type: 'POST',\n    url: '/report_error',\n    data: JSON.stringify({\n      level: level,\n      code: code,\n      page: window.location.href,\n      client_error: client_error,\n    }),\n    contentType: 'application/json',\n    dataType: 'json'\n  });\n}\n\nwindow.onerror = function reportClientException(message, source, line_number, column_number, error) {\n\n  $.ajax({\n    type: 'POST',\n    url: '/client_exception',\n    data: JSON.stringify({\n      message: message,\n      source: source,\n      line_number: line_number,\n      column_number: column_number,\n      error: error,\n      url: window.location.href,\n      user_agent: navigator.userAgent,\n    }),\n    contentType: 'application/json',\n    dataType: 'json'\n  });\n}\n\nfunction runPythonProgram(code, hasTurtle, cb) {\n  const outputDiv = $('#output');\n  outputDiv.empty();\n\n  Sk.pre = \"output\";\n  const turtleConfig = (Sk.TurtleGraphics || (Sk.TurtleGraphics = {}));\n  turtleConfig.target = 'turtlecanvas';\n  turtleConfig.width = 400;\n  turtleConfig.height = 300;\n  turtleConfig.worldWidth = 400;\n  turtleConfig.worldHeight = 300;\n\n  if (!hasTurtle) {\n    // There might still be a visible turtle panel. If the new program does not use the Turtle,\n    // remove it (by clearing the '#turtlecanvas' div)\n    $('#turtlecanvas').empty();\n  }\n\n  Sk.configure({\n    output: outf,\n    read: builtinRead,\n    inputfun: inputFromInlineModal,\n    inputfunTakesPrompt: true,\n    __future__: Sk.python3\n  });\n\n  return Sk.misceval.asyncToPromise(function () {\n    return Sk.importMainWithBody(\"<stdin>\", false, code, true);\n  }).then(function(_mod) {\n    console.log('Program executed');\n    if (cb) cb ();\n  }).catch(function(err) {\n    // Extract error message from error\n    console.log(err);\n    const errorMessage = errorMessageFromSkulptError(err) || JSON.stringify(err);\n    throw new Error(errorMessage);\n  });\n\n  /**\n   * Get the error messages from a Skulpt error\n   *\n   * They look like this:\n   *\n   * {\"args\":{\"v\":[{\"v\":\"name 'name' is not defined\"}]},\"traceback\":[{\"lineno\":3,\"colno\":0,\"filename\":\"<stdin>.py\"}]}\n   *\n   * Don't know why, so let's be defensive about it.\n   */\n  function errorMessageFromSkulptError(err) {\n    const message = err.args && err.args.v && err.args.v[0] && err.args.v[0].v;\n    return message;\n  }\n\n  function addToOutput(text, color) {\n    $('<span>').text(text).css({ color }).appendTo(outputDiv);\n  }\n\n\n  // output functions are configurable.  This one just appends some text\n  // to a pre element.\n  function outf(text) {\n    addToOutput(text, 'white');\n    speak(text)\n  }\n\n  function builtinRead(x) {\n    if (Sk.builtinFiles === undefined || Sk.builtinFiles[\"files\"][x] === undefined)\n        throw \"File not found: '\" + x + \"'\";\n    return Sk.builtinFiles[\"files\"][x];\n  }\n\n  /**\n   * Get the input inline in the terminal\n   *\n   * Render the prompt to the terminal, add an inputbox where the user can\n   * type, and replace the inputbox with static text after they hit enter.\n   */\n   // Note: this method is currently not being used.\n  function inputFromTerminal(prompt) {\n    return new Promise(function(ok) {\n      addToOutput(prompt + '\\n', 'white');\n      const input = $('<input>').attr('placeholder', 'Typ hier je antwoord').appendTo(outputDiv).focus();\n\n      // When enter is pressed, turn the input box into a regular\n      // span and resolve the promise\n      input.on('keypress', function(e) {\n        if (e.which == 13 /* ENTER */) {\n          const text = input.val();\n\n          input.remove();\n          addToOutput(text + '\\n', 'yellow');\n          ok(text);\n        }\n      });\n    });\n  }\n\n  // This method draws the prompt for asking for user input.\n  function inputFromInlineModal(prompt) {\n    return new Promise(function(ok) {\n\n      window.State.disable_run = true;\n      $ ('#runit').css('background-color', 'gray');\n\n      const input = $('#inline-modal input[type=\"text\"]');\n      $('#inline-modal .caption').text(prompt);\n      input.val('');\n      input [0].placeholder = prompt;\n      speak(prompt)\n\n      setTimeout(function() {\n        input.focus();\n      }, 0);\n      $('#inline-modal form').one('submit', function(event) {\n\n        window.State.disable_run = false;\n        $ ('#runit').css('background-color', '');\n\n        event.preventDefault();\n        $('#inline-modal').hide();\n        ok(input.val());\n        $ ('#output').focus ();\n\n        return false;\n      });\n      $('#inline-modal').show();\n    });\n  }\n}\n\nvar error = {\n  hide() {\n    $('#errorbox').hide();\n    $('#warningbox').hide();\n    if ($('#editor').length) editor.resize ();\n  },\n\n  showWarning(caption, message) {\n    $('#warningbox .caption').text(caption);\n    $('#warningbox .details').text(message);\n    $('#warningbox').show();\n    if ($('#editor').length) editor.resize ();\n  },\n\n  show(caption, message) {\n    $('#errorbox .caption').text(caption);\n    $('#errorbox .details').text(message);\n    $('#errorbox').show();\n    if ($('#editor').length) editor.resize ();\n  }\n}\n\nfunction queryParam(param) {\n  const urlParams = new URLSearchParams(window.location.search);\n  return urlParams.get(param);\n}\n\nfunction buildUrl(url, params) {\n  const clauses = [];\n  for (let key in params) {\n    const value = params[key];\n    if (value !== undefined && value !== '') {\n      clauses.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n    }\n  }\n  return url + (clauses.length > 0 ? '?' + clauses.join('&') : '');\n}\n\n(function () {\n  window.speak = function speak(text) {\n    var selectedURI = $('#speak_dropdown').val();\n    if (!selectedURI) { return; }\n    var voice = window.speechSynthesis.getVoices().filter(v => v.voiceURI === selectedURI)[0];\n\n    if (voice) {\n      let utterance = new SpeechSynthesisUtterance(text);\n      utterance.voice = voice;\n      utterance.rate = 0.9;\n      speechSynthesis.speak(utterance);\n    }\n  }\n\n  if (!window.speechSynthesis) { return; /* No point in even trying */ }\n  if (!window.State.lang) { return; /* Not on a code page */ }\n\n  /**\n   * Show the \"speak\" checkbox if we find that we have speech support for the\n   * current language (showing an initially hidden element is a better experience\n   * than hiding an initially shown element... arguably... ?)\n   *\n   * Also, for funzies: the speechSynthesis.getVoices() array is asynchronously\n   * populated *some time* after the page loads... and we won't know when. Keep\n   * on testing periodically until we got it or it's taken too long to finish.\n   */\n  let attempts = 0;\n  const timer = setInterval(function() {\n    attempts += 1;\n\n    const voices = findVoices(window.State.lang);\n\n    if (voices.length > 0) {\n      for (const voice of voices) {\n        $('#speak_dropdown').append($('<option>').attr('value', voice.voiceURI).text('\uD83D\uDCE3 ' + voice.name));\n      }\n\n      $('#speak_container').show();\n\n      clearInterval(timer);\n    }\n    if (attempts >= 20) {  // ~2 seconds\n      // Give up\n      clearInterval(timer);\n    }\n  }, 100);\n\n  function findVoices(lang) {\n    // Our own \"lang\" is *typically* just the language code, but we also have \"pt_BR\".\n    const simpleLang = lang.match(/^([a-z]+)/i)[1];\n\n    // If the feature doesn't exist in the browser, return null\n    if (!window.speechSynthesis) { return []; }\n    return window.speechSynthesis.getVoices().filter(voice => voice.lang.startsWith(simpleLang));\n  }\n})();\n\nwindow.create_class = function create_class() {\n  window.modal.prompt (window.auth.texts.class_name_prompt, '', function (class_name) {\n\n    $.ajax({\n      type: 'POST',\n      url: '/class',\n      data: JSON.stringify({\n        name: class_name\n      }),\n      contentType: 'application/json',\n      dataType: 'json'\n    }).done(function(response) {\n      location.reload ();\n    }).fail(function(err) {\n      console.error(err);\n      error.show(ErrorMessages['Connection_error'], JSON.stringify(err));\n    });\n  });\n}\n\nwindow.rename_class = function rename_class(id) {\n  window.modal.prompt (window.auth.texts.class_name_prompt, '', function (class_name) {\n\n    $.ajax({\n      type: 'PUT',\n      url: '/class/' + id,\n      data: JSON.stringify({\n        name: class_name\n      }),\n      contentType: 'application/json',\n      dataType: 'json'\n    }).done(function(response) {\n      location.reload ();\n    }).fail(function(err) {\n      console.error(err);\n      error.show(ErrorMessages['Connection_error'], JSON.stringify(err));\n    });\n  });\n}\n\nwindow.delete_class = function delete_class(id) {\n  window.modal.confirm (window.auth.texts.delete_class_prompt, function () {\n\n    $.ajax({\n      type: 'DELETE',\n      url: '/class/' + id,\n      contentType: 'application/json',\n      dataType: 'json'\n    }).done(function(response) {\n      window.location.pathname = '/for-teachers';\n    }).fail(function(err) {\n      console.error(err);\n      error.show(ErrorMessages['Connection_error'], JSON.stringify(err));\n    });\n  });\n}\n\nwindow.join_class = function join_class(link, name, noRedirect) {\n  // If there's no session but we want to join the class, we store the program data in localStorage and redirect to /login.\n  if (! window.auth.profile) {\n    return window.modal.confirm (window.auth.texts.join_prompt, function () {\n      localStorage.setItem ('hedy-join', JSON.stringify ({link: link, name: name}));\n      window.location.pathname = '/login';\n      return;\n    });\n  }\n\n  $.ajax({\n    type: 'GET',\n    url: link,\n  }).done(function(response) {\n    window.modal.alert (window.auth.texts.class_join_confirmation + ' ' + name);\n    if (! noRedirect) window.location.pathname = '/programs';\n  }).fail(function(err) {\n    console.error(err);\n    error.show(ErrorMessages['Connection_error'], JSON.stringify(err));\n  });\n}\n\nwindow.remove_student = function delete_class(class_id, student_id) {\n  window.modal.confirm (window.auth.texts.remove_student_prompt, function () {\n\n    $.ajax({\n      type: 'DELETE',\n      url: '/class/' + class_id + '/student/' + student_id,\n      contentType: 'application/json',\n      dataType: 'json'\n    }).done(function(response) {\n      location.reload ();\n    }).fail(function(err) {\n      console.error(err);\n      error.show(ErrorMessages['Connection_error'], JSON.stringify(err));\n    });\n  });\n}\n\nwindow.prompt_unsaved = function prompt_unsaved(cb) {\n  if (! window.State.unsaved_changes) return cb ();\n  // This variable avoids showing the generic native `onbeforeunload` prompt\n  window.State.no_unload_prompt = true;\n  window.modal.confirm (window.auth.texts.unsaved_changes, cb);\n}\n", "var countries = {'AF':'Afghanistan','AX':'\u00C5land Islands','AL':'Albania','DZ':'Algeria','AS':'American Samoa','AD':'Andorra','AO':'Angola','AI':'Anguilla','AQ':'Antarctica','AG':'Antigua and Barbuda','AR':'Argentina','AM':'Armenia','AW':'Aruba','AU':'Australia','AT':'Austria','AZ':'Azerbaijan','BS':'Bahamas','BH':'Bahrain','BD':'Bangladesh','BB':'Barbados','BY':'Belarus','BE':'Belgium','BZ':'Belize','BJ':'Benin','BM':'Bermuda','BT':'Bhutan','BO':'Bolivia, Plurinational State of','BQ':'Bonaire, Sint Eustatius and Saba','BA':'Bosnia and Herzegovina','BW':'Botswana','BV':'Bouvet Island','BR':'Brazil','IO':'British Indian Ocean Territory','BN':'Brunei Darussalam','BG':'Bulgaria','BF':'Burkina Faso','BI':'Burundi','KH':'Cambodia','CM':'Cameroon','CA':'Canada','CV':'Cape Verde','KY':'Cayman Islands','CF':'Central African Republic','TD':'Chad','CL':'Chile','CN':'China','CX':'Christmas Island','CC':'Cocos (Keeling) Islands','CO':'Colombia','KM':'Comoros','CG':'Congo','CD':'Congo, the Democratic Republic of the','CK':'Cook Islands','CR':'Costa Rica','CI':'C\u00F4te d\\'Ivoire','HR':'Croatia','CU':'Cuba','CW':'Cura\u00E7ao','CY':'Cyprus','CZ':'Czech Republic','DK':'Denmark','DJ':'Djibouti','DM':'Dominica','DO':'Dominican Republic','EC':'Ecuador','EG':'Egypt','SV':'El Salvador','GQ':'Equatorial Guinea','ER':'Eritrea','EE':'Estonia','ET':'Ethiopia','FK':'Falkland Islands (Malvinas)','FO':'Faroe Islands','FJ':'Fiji','FI':'Finland','FR':'France','GF':'French Guiana','PF':'French Polynesia','TF':'French Southern Territories','GA':'Gabon','GM':'Gambia','GE':'Georgia','DE':'Germany','GH':'Ghana','GI':'Gibraltar','GR':'Greece','GL':'Greenland','GD':'Grenada','GP':'Guadeloupe','GU':'Guam','GT':'Guatemala','GG':'Guernsey','GN':'Guinea','GW':'Guinea-Bissau','GY':'Guyana','HT':'Haiti','HM':'Heard Island and McDonald Islands','VA':'Holy See (Vatican City State)','HN':'Honduras','HK':'Hong Kong','HU':'Hungary','IS':'Iceland','IN':'India','ID':'Indonesia','IR':'Iran, Islamic Republic of','IQ':'Iraq','IE':'Ireland','IM':'Isle of Man','IL':'Israel','IT':'Italy','JM':'Jamaica','JP':'Japan','JE':'Jersey','JO':'Jordan','KZ':'Kazakhstan','KE':'Kenya','KI':'Kiribati','KP':'Korea, Democratic People\\'s Republic of','KR':'Korea, Republic of','KW':'Kuwait','KG':'Kyrgyzstan','LA':'Lao People\\'s Democratic Republic','LV':'Latvia','LB':'Lebanon','LS':'Lesotho','LR':'Liberia','LY':'Libya','LI':'Liechtenstein','LT':'Lithuania','LU':'Luxembourg','MO':'Macao','MK':'Macedonia, the Former Yugoslav Republic of','MG':'Madagascar','MW':'Malawi','MY':'Malaysia','MV':'Maldives','ML':'Mali','MT':'Malta','MH':'Marshall Islands','MQ':'Martinique','MR':'Mauritania','MU':'Mauritius','YT':'Mayotte','MX':'Mexico','FM':'Micronesia, Federated States of','MD':'Moldova, Republic of','MC':'Monaco','MN':'Mongolia','ME':'Montenegro','MS':'Montserrat','MA':'Morocco','MZ':'Mozambique','MM':'Myanmar','NA':'Namibia','NR':'Nauru','NP':'Nepal','NL':'Netherlands','NC':'New Caledonia','NZ':'New Zealand','NI':'Nicaragua','NE':'Niger','NG':'Nigeria','NU':'Niue','NF':'Norfolk Island','MP':'Northern Mariana Islands','NO':'Norway','OM':'Oman','PK':'Pakistan','PW':'Palau','PS':'Palestine, State of','PA':'Panama','PG':'Papua New Guinea','PY':'Paraguay','PE':'Peru','PH':'Philippines','PN':'Pitcairn','PL':'Poland','PT':'Portugal','PR':'Puerto Rico','QA':'Qatar','RE':'R\u00E9union','RO':'Romania','RU':'Russian Federation','RW':'Rwanda','BL':'Saint Barth\u00E9lemy','SH':'Saint Helena, Ascension and Tristan da Cunha','KN':'Saint Kitts and Nevis','LC':'Saint Lucia','MF':'Saint Martin (French part)','PM':'Saint Pierre and Miquelon','VC':'Saint Vincent and the Grenadines','WS':'Samoa','SM':'San Marino','ST':'Sao Tome and Principe','SA':'Saudi Arabia','SN':'Senegal','RS':'Serbia','SC':'Seychelles','SL':'Sierra Leone','SG':'Singapore','SX':'Sint Maarten (Dutch part)','SK':'Slovakia','SI':'Slovenia','SB':'Solomon Islands','SO':'Somalia','ZA':'South Africa','GS':'South Georgia and the South Sandwich Islands','SS':'South Sudan','ES':'Spain','LK':'Sri Lanka','SD':'Sudan','SR':'Suriname','SJ':'Svalbard and Jan Mayen','SZ':'Swaziland','SE':'Sweden','CH':'Switzerland','SY':'Syrian Arab Republic','TW':'Taiwan, Province of China','TJ':'Tajikistan','TZ':'Tanzania, United Republic of','TH':'Thailand','TL':'Timor-Leste','TG':'Togo','TK':'Tokelau','TO':'Tonga','TT':'Trinidad and Tobago','TN':'Tunisia','TR':'Turkey','TM':'Turkmenistan','TC':'Turks and Caicos Islands','TV':'Tuvalu','UG':'Uganda','UA':'Ukraine','AE':'United Arab Emirates','GB':'United Kingdom','US':'United States','UM':'United States Minor Outlying Islands','UY':'Uruguay','UZ':'Uzbekistan','VU':'Vanuatu','VE':'Venezuela, Bolivarian Republic of','VN':'Viet Nam','VG':'Virgin Islands, British','VI':'Virgin Islands, U.S.','WF':'Wallis and Futuna','EH':'Western Sahara','YE':'Yemen','ZM':'Zambia','ZW':'Zimbabwe'};\n\nwindow.auth = {\n  texts: AuthMessages,\n  entityify: function (string) {\n      return string.replace (/&/g, '&amp;').replace (/</g, '&lt;').replace (/>/g, '&gt;').replace (/\"/g, '&quot;').replace (/'/g, '&#39;').replace (/`/g, '&#96;');\n   },\n  emailRegex: /^(([a-zA-Z0-9_+\\.\\-]+)@([\\da-zA-Z\\.\\-]+)\\.([a-zA-Z\\.]{2,6})\\s*)$/,\n  redirect: function (where) {\n    where = '/' + where;\n    window.location.pathname = where;\n  },\n  logout: function () {\n    $.ajax ({type: 'POST', url: '/auth/logout'}).done (function () {\n      auth.redirect ('login');\n    });\n  },\n  destroy: function () {\n    window.modal.confirm (auth.texts.are_you_sure, function () {\n      $.ajax ({type: 'POST', url: '/auth/destroy'}).done (function () {\n        auth.redirect ('');\n      });\n    });\n  },\n  error: function (message, element, id) {\n    $ (id || '#error').html (message);\n    $ (id || '#error').css ('display', 'block');\n    if (element) $ ('#' + element).css ('border', 'solid 1px red');\n  },\n  clear_error: function (id) {\n    $ (id || '#error').html ('');\n    $ (id || '#error').css ('display', 'none');\n    $ ('form *').css ('border', '');\n  },\n  success: function (message, id) {\n    $ ('#error').css ('display', 'none');\n    $ (id || '#success').html (message);\n    $ (id || '#success').css ('display', 'block');\n  },\n  submit: function (op) {\n    var values = {};\n    $ ('form.auth *').map (function (k, el) {\n      if (el.id) values [el.id] = el.value;\n    });\n\n    if (op === 'signup') {\n      if (! values.username) return auth.error (auth.texts.please_username, 'username');\n      values.username = values.username.trim ();\n      if (values.username.length < 3) return auth.error (auth.texts.username_three, 'username');\n      if (values.username.match (/:|@/)) return auth.error (auth.texts.username_special, 'username');\n      if (! values.password) return auth.error (auth.texts.please_password, 'password');\n      if (values.password.length < 6) return auth.error (auth.texts.password_six, 'password');\n      if (! values.email.match (window.auth.emailRegex)) return auth.error (auth.texts.valid_email, 'email');\n      if (values.email    !== values.mail_repeat)    return auth.error (auth.texts.repeat_match_email,    'mail_repeat');\n      if (values.password !== values.password_repeat) return auth.error (auth.texts.repeat_match_password, 'password_repeat');\n      if (values.birth_year) {\n        values.birth_year = parseInt (values.birth_year);\n        if (! values.birth_year || values.birth_year < 1900 || values.birth_year > new Date ().getFullYear ()) return auth.error (auth.texts.valid_year + new Date ().getFullYear (), 'birth_year');\n      }\n\n      var payload = {};\n      ['username', 'email', 'password', 'birth_year', 'country', 'gender', 'subscribe'].map (function (k) {\n        if (! values [k]) return;\n        if (k === 'birth_year') payload [k] = parseInt (values [k]);\n        else if (k === 'subscribe') payload [k] = $ ('#subscribe').prop ('checked');\n        else payload [k] = values [k];\n      });\n\n      payload.prog_experience = $ ('input[name=has_experience]:checked').val ();\n      var languages = [];\n      // We ignore the languages checkboxes if the section is hidden\n      if ($ ('#languages').is (':visible')) $ ('input[name=languages]').filter (':checked').map (function (v) {languages.push ($ (this).val ())});\n      if (languages.length) payload.experience_languages = languages;\n\n      $.ajax ({type: 'POST', url: '/auth/signup', data: JSON.stringify (payload), contentType: 'application/json; charset=utf-8'}).done (function () {\n        auth.success (auth.texts.signup_success);\n\n        // We set up a non-falsy profile to let `saveit` know that we're logged in. We put session_expires_at since we need it.\n        window.auth.profile = {session_expires_at: Date.now () + 1000 * 60 * 60 * 24};\n\n        var savedProgram = localStorage.getItem ('hedy-first-save');\n        var joinClass    = localStorage.getItem ('hedy-join');\n        if (! savedProgram) {\n           if (! joinClass) return auth.redirect ('programs');\n           joinClass = JSON.parse (joinClass);\n           localStorage.removeItem ('hedy-join');\n           return window.join_class (joinClass.link, joinClass.name);\n        }\n\n        savedProgram = JSON.parse (savedProgram);\n        window.saveit (savedProgram [0], savedProgram [1], savedProgram [2], savedProgram [3], function () {\n           localStorage.removeItem ('hedy-first-save');\n           if (joinClass) {\n             joinClass = JSON.parse (joinClass);\n             localStorage.removeItem ('hedy-join');\n             window.join_class (joinClass.link, joinClass.name, true);\n           }\n           var redirect = localStorage.getItem ('hedy-save-redirect');\n           if (redirect) localStorage.removeItem ('hedy-save-redirect');\n           auth.redirect (redirect || 'programs');\n        });\n\n      }).fail (function (response) {\n        var error = response.responseText || '';\n        if (error.match ('email'))         auth.error (auth.texts.exists_email);\n        else if (error.match ('username')) auth.error (auth.texts.exists_username);\n        else                               auth.error (auth.texts.ajax_error);\n      });\n    }\n\n    if (op === 'login') {\n      if (! values.username) return auth.error (auth.texts.please_username_email, 'username');\n      if (! values.password) return auth.error (auth.texts.please_password, 'password');\n\n      auth.clear_error ();\n      $.ajax ({type: 'POST', url: '/auth/login', data: JSON.stringify ({username: values.username, password: values.password}), contentType: 'application/json; charset=utf-8'}).done (function () {\n\n        // We set up a non-falsy profile to let `saveit` know that we're logged in. We put session_expires_at since we need it.\n        window.auth.profile = {session_expires_at: Date.now () + 1000 * 60 * 60 * 24};\n\n        var savedProgram = localStorage.getItem ('hedy-first-save');\n        var joinClass    = localStorage.getItem ('hedy-join');\n        if (! savedProgram) {\n           if (! joinClass) return auth.redirect ('programs');\n           joinClass = JSON.parse (joinClass);\n           localStorage.removeItem ('hedy-join');\n           return window.join_class (joinClass.link, joinClass.name);\n        }\n\n        savedProgram = JSON.parse (savedProgram);\n        window.saveit (savedProgram [0], savedProgram [1], savedProgram [2], savedProgram [3], function () {\n           localStorage.removeItem ('hedy-first-save');\n           if (joinClass) {\n             joinClass = JSON.parse (joinClass);\n             localStorage.removeItem ('hedy-join');\n             window.join_class (joinClass.link, joinClass.name, true);\n           }\n           var redirect = localStorage.getItem ('hedy-save-redirect');\n           if (redirect) localStorage.removeItem ('hedy-save-redirect');\n           auth.redirect (redirect || 'programs');\n        });\n\n      }).fail (function (response) {\n        if (response.status === 403) {\n           auth.error (auth.texts.invalid_username_password + ' ' + auth.texts.no_account + ' &nbsp;<button class=\"green-btn\" onclick=\"auth.redirect (\\'signup\\')\">' + auth.texts.create_account + '</button>');\n           $ ('#create-account').hide ();\n           localStorage.setItem ('hedy-login-username', values.username);\n        }\n        else                         auth.error (auth.texts.ajax_error);\n      });\n    }\n\n    if (op === 'profile') {\n      if (! values.email.match (window.auth.emailRegex)) return auth.error (auth.texts.valid_email, 'email');\n      if (values.birth_year) {\n        values.birth_year = parseInt (values.birth_year);\n        if (! values.birth_year || values.birth_year < 1900 || values.birth_year > new Date ().getFullYear ()) return auth.error (auth.texts.valid_year + new Date ().getFullYear (), 'birth_year');\n      }\n\n      var payload = {};\n      ['email', 'birth_year', 'country', 'gender'].map (function (k) {\n        if (! values [k]) return;\n        if (k === 'birth_year') payload [k] = parseInt (values [k]);\n        payload [k] = values [k];\n      });\n\n      payload.prog_experience = $ ('input[name=has_experience]:checked').val ();\n      var languages = [];\n      // We ignore the languages checkboxes if the section is hidden\n      if ($ ('#languages').is (':visible')) $ ('input[name=languages]').filter (':checked').map (function (v) {languages.push ($ (this).val ())});\n      // When updating the profile, we can remove all languages, so in this case we send the empty array. This doesn't happen on signup.\n      payload.experience_languages = languages;\n\n      auth.clear_error ();\n      $.ajax ({type: 'POST', url: '/profile', data: JSON.stringify (payload), contentType: 'application/json; charset=utf-8'}).done (function () {\n        auth.success (auth.texts.profile_updated);\n      }).fail (function (response) {\n        auth.error (auth.texts.ajax_error);\n      });\n    }\n\n    if (op === 'change_password') {\n      if (! values.password) return auth.error (auth.texts.please_password, 'password', '#error-password');\n      if (values.password.length < 6) return auth.error (auth.texts.password_six, 'password', '#error-password');\n      if (values.password !== values.password_repeat) return auth.error (auth.texts.repeat_match, 'password_repeat', '#error-password');\n\n      var payload = {old_password: values.old_password, new_password: values.password};\n\n      auth.clear_error ('#error-password');\n      $.ajax ({type: 'POST', url: '/auth/change_password', data: JSON.stringify (payload), contentType: 'application/json; charset=utf-8'}).done (function () {\n        auth.success (auth.texts.password_updated, '#success-password');\n        $ ('#old_password').val ('');\n        $ ('#password').val ('');\n        $ ('#password_repeat').val ('');\n      }).fail (function (response) {\n        if (response.status === 403) auth.error (auth.texts.invalid_password, null, '#error-password');\n        else                         auth.error (auth.texts.ajax_error, null, '#error-password');\n      });\n    }\n\n    if (op === 'recover') {\n      if (! values.username) return auth.error (auth.texts.please_username, 'username');\n\n      var payload = {username: values.username};\n\n      auth.clear_error ();\n      $.ajax ({type: 'POST', url: '/auth/recover', data: JSON.stringify (payload), contentType: 'application/json; charset=utf-8'}).done (function () {\n        auth.success (auth.texts.sent_password_recovery);\n        $ ('#username').val ('');\n      }).fail (function (response) {\n        if (response.status === 403) auth.error (auth.texts.invalid_username);\n        else                         auth.error (auth.texts.ajax_error);\n      });\n    }\n\n    if (op === 'reset') {\n      if (! values.password) return auth.error (auth.texts.please_password, 'password');\n      if (values.password.length < 6) return auth.eror (auth.texts.password_six, 'password');\n      if (values.password !== values.password_repeat) return auth.error (auth.texts.repeat_match, 'password_repeat');\n\n      var payload = {username: auth.reset.username, token: auth.reset.token, password: values.password};\n\n      auth.clear_error ();\n      $.ajax ({type: 'POST', url: '/auth/reset', data: JSON.stringify (payload), contentType: 'application/json; charset=utf-8'}).done (function () {\n        auth.success (auth.texts.password_resetted);\n        $ ('#password').val ('');\n        $ ('#password_repeat').val ('');\n        delete auth.reset;\n        auth.redirect ('login');\n      }).fail (function (response) {\n        if (response.status === 403) auth.error (auth.texts.invalid_reset_link);\n        else                         auth.error (auth.texts.ajax_error);\n      });\n    }\n  },\n  markAsTeacher: function (username, is_teacher) {\n    $.ajax ({type: 'POST', url: '/admin/markAsTeacher', data: JSON.stringify ({username: username, is_teacher: is_teacher}), contentType: 'application/json; charset=utf-8'}).done (function () {\n      window.modal.alert (['User', username, 'successfully', is_teacher ? 'marked' : 'unmarked', 'as teacher'].join (' '), 4000);\n      location.reload ();\n    }).fail (function (error) {\n      console.log (error);\n      window.modal.alert (['Error when', is_teacher ? 'marking' : 'unmarking', 'user', username, 'as teacher'].join (' '));\n    });\n  },\n\n  changeUserEmail: function (username, email) {\n    window.modal.prompt ('Please enter the corrected email', email, function (correctedEmail) {\n      if (correctedEmail === email) return;\n      if (! correctedEmail.match (window.auth.emailRegex)) return window.modal.alert ('Please enter a valid email.');\n      $.ajax ({type: 'POST', url: '/admin/changeUserEmail', data: JSON.stringify ({username: username, email: correctedEmail}), contentType: 'application/json; charset=utf-8'}).done (function () {\n        window.modal.alert (['Successfully changed the email for User', username, 'to', correctedEmail].join (' '));\n        location.reload ();\n      }).fail (function (error) {\n        console.log (error);\n        window.modal.alert (['Error when changing the email for User', username].join (' '));\n      });\n    });\n  },\n}\n\n// *** LOADERS ***\n\nif ($ ('#country')) {\n  var html = '<option value=\"\">Select</option>';\n  Object.keys (countries).map (function (code) {\n    html += '<option value=\"' + code + '\">' + countries [code] + '</option>';\n  });\n  $ ('#country').html (html);\n}\n\n$ ('.auth input').get ().map (function (el) {\n  // Clear red borders if input was marked from a previous error.\n  el.addEventListener ('input', auth.clear_error);\n});\n\n// We use GET /profile to see if we're logged in since we use HTTP only cookies and cannot check from javascript.\n$.ajax ({type: 'GET', url: '/profile'}).done (function (response) {\n  if (['/signup', '/login'].indexOf (window.location.pathname) !== -1) auth.redirect ('my-profile');\n\n  auth.profile = response;\n  if ($ ('#profile').html ()) {\n    $ ('#username').html (response.username);\n    $ ('#email').val (response.email);\n    $ ('#birth_year').val (response.birth_year);\n    $ ('#gender').val (response.gender);\n    $ ('#country').val (response.country);\n    if (response.prog_experience) {\n      $ ('input[name=has_experience][value=\"' + response.prog_experience + '\"]').prop ('checked', true);\n      if (response.prog_experience === 'yes') $ ('#languages').show ();\n    }\n    (response.experience_languages || []).map (function (lang) {\n       $ ('input[name=languages][value=\"' + lang + '\"]').prop ('checked', true);\n    });\n    $ ('#student_classes ul').html ((response.student_classes || []).map (function (Class) {\n       return '<li>' + auth.entityify (Class.name) + '</li>';\n    }).join (''));\n  }\n}).fail (function (response) {\n  if (window.location.pathname.indexOf (['/my-profile']) !== -1) auth.redirect ('login');\n});\n\nif (window.location.pathname === '/reset') {\n  var query = window.location.search.slice (1).split ('&');\n  var params = {};\n  query.map (function (item) {\n    item = item.split ('=');\n    params [item [0]] = decodeURIComponent (item [1]);\n  });\n  // If we don't receive username and token, the redirect link is invalid. We redirect the user to /recover.\n  if (! params.username || ! params.token) auth.redirect ('recover')\n  else auth.reset = params;\n}\n\nif (window.location.pathname === '/signup') {\n  var login_username = localStorage.getItem ('hedy-login-username');\n  if (login_username) {\n    localStorage.removeItem ('hedy-login-username');\n    if (login_username.match ('@')) $ ('#email').val (login_username);\n    else                            $ ('#username').val (login_username);\n  }\n}\n\n$ ('#email, #mail_repeat').on ('cut copy paste', function (e) {\n   e.preventDefault ();\n   return false;\n});\n", "/**\n * Activate tabs\n *\n * Protocol:\n *\n * - Tabs consist of a TAB (the sticky-outy bit) and a TARGET\n *   (the pane that gets shown and hidden).\n *\n * - TABS should have: <... data-tab=\"SOME-ID\">\n *\n * - TARGETS should have: <... data-tabtarget=\"SOME-ID\">\n *\n * When a TAB is clicked, the TARGET with the matching id is shown\n * (and all other TARGETS in the same containing HTML element are hidden).\n *\n * The active TAB is indicated by the  '.tab-selected' class, the active\n * TARGET by the *absence* of the '.hidden' class.\n */\n$(function() {\n  function switchToTab(tabName: string) {\n    // Find the tab that leads to this selection, and its siblings\n    const tab = $('*[data-tab=\"' + tabName + '\"]');\n    const allTabs = tab.siblings('*[data-tab]');\n\n    // Fidn the target associated with this selection, and its siblings\n    const target = $('*[data-tabtarget=\"' + tabName + '\"]');\n    const allTargets = target.siblings('*[data-tabtarget]');\n\n    // Fix classes\n    allTabs.removeClass('tab-selected');\n    tab.addClass('tab-selected');\n\n    allTargets.addClass('hidden');\n    target.removeClass('hidden');\n\n    const adventures = {};\n    window.State.adventures.map (function(adventure) {\n      adventures [adventure.short_name] = adventure;\n    });\n\n    if (tabName === 'end') {\n      $ ('#level-header input').hide ();\n      $ ('#editor-area').hide ();\n      return;\n    }\n    $ ('#level-header input').show ();\n    $ ('#editor-area').show ();\n    // If the loaded program (directly requested by link with id) matches the currently selected tab, use that, overriding the loaded program that came in the adventure or level.\n    if (window.State.loaded_program && (window.State.adventure_name_onload || 'level') === tabName) {\n      $ ('#program_name').val (window.State.loaded_program.name);\n      window.editor?.setValue (window.State.loaded_program.code);\n    }\n    // If there's a loaded program for the adventure or level now selected, use it.\n    else if (adventures [tabName] && adventures[tabName].loaded_program) {\n      $ ('#program_name').val (adventures [tabName].loaded_program.name);\n      window.editor?.setValue (adventures [tabName].loaded_program.code);\n    }\n    // If there's no loaded program (either requested by id or associated to the adventure/level), load defaults.\n    else if (tabName === 'level') {\n      $ ('#program_name').val (window.State.default_program_name);\n      window.editor?.setValue (window.State.default_program);\n    }\n    else {\n      $ ('#program_name').val (adventures [tabName].default_save_name + ' - ' + window.State.level_title + ' ' + window.State.level);\n      window.editor?.setValue (adventures [tabName].start_code);\n    }\n\n    window.State.adventure_name = tabName === 'level' ? undefined : tabName;\n    window.editor?.clearSelection();\n    // If user wants to override the unsaved program, reset unsaved_changes\n    window.State.unsaved_changes = false;\n  }\n\n  $('*[data-tab]').click(function (e) {\n    const tab = $(e.target);\n    const tabName = tab.data('tab');\n\n    e.preventDefault ();\n\n    // If there are unsaved changes, we warn the user before changing tabs.\n    if (window.State.unsaved_changes) window.modal.confirm(window.auth.texts.unsaved_changes, () => switchToTab(tabName));\n    else switchToTab(tabName);\n\n    // Do a 'replaceState' to add a '#anchor' to the URL\n    const hashFragment = tabName !== 'level' ? tabName : '';\n    if (window.history) { window.history.replaceState(null, '', '#' + hashFragment); }\n  });\n\n  // If we're opening an adventure from the beginning (either through a link to /hedy/adventures or through a saved program for an adventure), we click on the relevant tab.\n  // We click on `level` to load a program associated with level, if any.\n  if (window.State && window.State.adventure_name) {\n    switchToTab(window.State.adventure_name);\n  }\n  else if (window.location.hash) {\n    // If we have an '#anchor' in the URL, switch to that tab\n    const hashFragment = window.location.hash.replace(/^#/, '');\n    if (hashFragment) {\n      switchToTab(hashFragment);\n    }\n  }\n});\n\nwindow.load_quiz = function (level: string) {\n  $('*[data-tabtarget=\"end\"]').html ('<iframe id=\"quiz-iframe\" class=\"w-full\" title=\"Quiz\" src=\"/quiz/start/' + level + '\"></iframe>');\n}\n", "$(function() {\n  /**\n   * Count newlines and also estimate how the text will be line wrapped\n   */\n  function estimateLineCount(s) {\n    var ESTIMATED_LINE_LENGTH = 80;\n\n    var lines = s.split('\\n');\n    var wrappedLines = lines.map(x => Math.floor(x.length / ESTIMATED_LINE_LENGTH));\n\n    return sum(wrappedLines) + lines.length;\n  }\n\n  function sum(xs) {\n    let ret = 0;\n    for (const x of xs) {\n      ret += x;\n    }\n    return ret;\n  }\n\n\n  function resizeArea(el) {\n    var lines = Math.max(1, estimateLineCount($(el).val()));\n    var targetHeight = lines * 25 + 4;\n\n    // Allow for the case where the user made it bigger themselves\n    if ($(el).height() < targetHeight) {\n      $(el).css({ height: `${targetHeight}px` });\n    }\n  }\n\n  $('textarea').each((i, el) => resizeArea(el)).on('input', e => {\n    const target = $(e.target);\n    if (!target.hasClass('touched')) {\n      target.addClass('touched');\n\n      // Change the 'data-name=\"xxx\"' attribute into an actual 'name=\"xxx\"' attribute\n      // so that the value is actually submitted via the form.\n      target.attr('name', target.data('name'));\n\n      recordChangeToForm(target.closest('form'));\n    }\n\n    resizeArea(target);\n  });\n\n\n  var FORM_MAP = new Map();\n\n  function recordChangeToForm(form) {\n    var fileName = form.data('file');\n    var formData = FORM_MAP.get(fileName);\n\n    if (!formData) {\n      var button = $('button[data-file=\"' + fileName + '\"]');\n      formData = {\n        button: button,\n        changes: 0,\n      }\n\n      FORM_MAP.set(fileName, formData);\n    }\n\n    formData.changes += 1;\n    formData.button.text(`${fileName} (${formData.changes})`);\n  }\n\n  $('button[data-file]').click(e => {\n    var fileName = $(e.target).data('file');\n    var form = $('form[data-file=\"' + fileName + '\"]');\n    form.submit();\n  });\n});\n"],
  "mappings": "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",
  "names": []
}
